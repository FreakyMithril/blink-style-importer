"use strict";var notifyMessage=function(e){console.log("Blink extension background script says: ",e)},initBackground=function(){console.log("test")},extractHostname=function(e){var t=void 0;return t=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0],t=t.split(":")[0]},enableIcon=function(e){chrome.browserAction.setIcon({tabId:e,path:{128:"img/icons/icon128on.png"}})},disableIcon=function(e){chrome.browserAction.setIcon({tabId:e,path:{128:"img/icons/icon128.png"}})},pageLoad={init:function(e,t){chrome.tabs.sendMessage(t,{greeting:"loadDataAndSave",pageUrl:e},function(n){notifyMessage("Send data to page"),void 0!==n&&n.success===!0?(enableIcon(t),notifyMessage("Loaded current "+e+" styles")):(disableIcon(t),notifyMessage("No styles yet for "+e))})}};chrome.tabs.onUpdated.addListener(function(e,t,n){if(!/^http?.*$/.test(n.url))return notifyMessage("Page not correct "+n.url),!0;if("complete"===n.status){var o=extractHostname(n.url);pageLoad.init(o,e)}});